<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>HW9 - JSON Song List</title> 
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <style> 
            body {
                background-color: rgb(136, 248, 248);
                font-family: 'Courier New', Courier, monospace;
                text-align: center;
            }
            h1 {
                color: rgb(247, 43, 230);
                font-family: 'Courier New', Courier, monospace;
                text-align: center;
                font-size: 25px; 
             }
            /* h2 {
                color: rgb(247, 43, 230);
                font-family: 'Courier New', Courier, monospace;
                text-align: center;
                font-size: 20px; 
            }
            ul li {
                list-style-type: none;
            } */
            button {
                font-family: 'Courier New', Courier, monospace;
                color: rgb(247, 43, 230);
                font-size: 18px;
            }
        </style>
    </head>
    <body>
        <h1>Dog Fact Generator</h1>

        <div id="info">
            The API I selected generates random facts about dogs. 
            <br><br> 
            It is a public API that is accessible on GitHub. 
            <br><br> 
            The two options I used for the API request were ... 
            <br><br> 
            This API would be helpful in ... 
        </div>
        <br><br> 
        <div id="submit">
            <!-- need to fill the onclick portion!!!! -->
            <button type="button" onclick="main();">Generate!</button>  
        </div>
        <div id="display">&nbsp;</div>

        <script language="javascript">
            function main() {
                requestData();
                getData(); 
            }
            function requestData() {
                var xhttp = new XMLHttpRequest(); 
                if (!xhttp) {
                    alert("Unable to complete HTTPRequest object."); 
                    return; 
                }
                var data = "id:101";
                xhttp.open("GET", "https://dog-facts-api.herokuapp.com/api/v1/resources/dogs/", true); 
                xhttp.onreadystatechange = getData(); 
                // xhttp.open("GET", "https://dog-facts-api.herokuapp.com/api/v1/resources/dogs/all", true); 
                xhttp.send(xhttp); 
            }
            function getData() {
                if (this.readystate == 4 && this.status == 200) {
                    var data = this.responseText; 
                    var info = JSON.parse(data); 
                    var str = ";"
                    for (var i = 0; i < info.length; i++) {
                        str += info[i]; 
                    }
                    document.getElementById("display").innerHTML = str; 
                }
            }
        </script>
    </body>
</html>